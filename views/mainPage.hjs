<!DOCTYPE html>
<html>

<head>
  <title>CSP Demo</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" nonce="{{nonce}}"></script>
		<link rel="stylesheet" type="text/css" href="style.css">
		<link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Fredoka+One" rel="stylesheet">

</head>

<body>
  <h1>CSP Demo</h1>
  <div>
    Current CSP:&nbsp;&nbsp;
    <span style="white-space: pre; font-family: monospace;">{{activeCspString}}</span>
  </div>
  <p>
    Example of how to exploit it:&nbsp;&nbsp;
    <i>{{activeCspVersion.exploit}}</i>
  </p>
  <div>
    Switch to CSP protection:
    {{#cspVersions}}
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="{{basePath}}{{url}}">{{label}}</a>
    {{/cspVersions}}
  </div>
  
  <hr>
  
  <form action="{{basePath}}{{reqPath}}" method="get">
    <input type="search" name="q" value="{{searchedType}}" placeholder="Search type ..." size="70">
    <input type="submit" value="Search">
  </form>
  
  <p>We propose the following films for <b>{{{searchedType}}}</b> type:</p>
  <table>
    <tr>
      <th>Title</th>
      <th>Type</th>
      <th></th>
      <th></th>
    </tr>
    {{#films}}
    <tr class="movie">
      <td>{{title}}</td>
      <td>{{type}}</td>
      <td><button type="button" class="btn-toggle">Show more</button></td>
      <td class="description" style="display: none;">{{{description}}}</td>
    </tr>
    {{/films}}
  </table>
  <script src="./movies.js" nonce="{{nonce}}"></script>
</body>

</html>